*references*: [[JS Engine]]

*related*: [[Вы не знаете JS]], [[Лексическое Окружение(LexicalEnvironment)]], [[Контекст выполнения (execution context)]]

*tags*: #article #js_engine 

*sources*: https://github.com/azat-io/you-dont-know-js-ru/blob/master/scope%20%26%20closures/ch4.md#%D0%B2%D1%8B-%D0%BD%D0%B5-%D0%B7%D0%BD%D0%B0%D0%B5%D1%82%D0%B5-js-%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D1%8C-%D0%B2%D0%B8%D0%B4%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8-%D0%B8-%D0%B7%D0%B0%D0%BC%D1%8B%D0%BA%D0%B0%D0%BD%D0%B8%D1%8F, https://learn.javascript.ru/var

---
*Why I read the article*: 

*Questions I want to know answer for*:

*Key ideas of the article*: 


Все объявления как переменных, так и функций, обрабатываются в первую очередь, до того как будет выполнена любая часть вашего кода.

Когда видите `var a = 2;`, вы наверное думаете о нем как об одном операторе. Но JavaScript на самом деле думает о нем как о двух операторах: `var a;` и `a = 2;`. Первый оператор, объявление, обрабатывается во время фазы компиляции. Второй оператор, присваивание, остается **на своем месте** в фазе исполнения. У нас есть соблазн смотреть на `var a = 2;` как на один оператор, но _Движок_ JavaScript видит это по-другому. Он видит `var a` и `a = 2` как два отдельных оператора, первый — как задачу фазы компиляции, а второй — как задачу фазы выполнения.

Следовательно о нашем первом коде следует думать как об обрабатываемом следующим образом:

```js
var a;
a = 2;
console.log( a );
```
,где первая часть — компиляция, а вторая — выполнение.

Поднимаются только сами объявления, тогда как любые присваивания или другая логика выполнения остается _на месте_.

```js
foo();
function foo() {
	console.log( a ); // undefined
	var a = 2;
}
```

## Сначала функции

Как объявления функций, так и переменных поднимаются. Cперва поднимаются функции, а затем уже переменные.

```js
foo(); // 1
var foo;
function foo() {
	console.log( 1 );
}
foo = function() {
	console.log( 2 );
};
```

**Объявления переменных «всплывают», но присваивания значений – нет.**

```js
function sayHi() {
   phrase = "Привет"; // (*)
   if (false) {
     var phrase;
   }
   console.log(phrase);
 }
 sayHi();
```